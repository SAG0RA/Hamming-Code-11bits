#:kivy 2.0.0


<CustomLabel@Label>:
    text_size: self.size
    font_name: 'Dependencias\Minecraft.ttf'
    color: 1, 0.6, 0.2, 1

<HeaderConversion@Label>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1 
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: '14sp'
    font_name: 'Dependencias\Minecraft.ttf'
    bold: True
    size:275,40
    size_hint: (None, None)

<ConversionNumbers@Label>:
    canvas.before:
        Color:
            rgba: 0, 0, 1, 1 
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: '12sp'
    font_name: 'Dependencias\Minecraft.ttf'
    bold: True
    size:275,90
    size_hint: (None, None)

    
<HeaderLabel@Label>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1 
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: '10sp'
    font_name: 'Dependencias\Minecraft.ttf'
    bold: True
    size:20,20
    size_hint: (None, None)

<HeaderError@Label>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1 
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: '10sp'
    bold: True
    size:70,20
    size_hint: (None, None)
    font_name: 'Dependencias\Minecraft.ttf'

<TablaLabel@Label>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1 
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: '10sp'
    bold: True
    size:20,20
    size_hint: (None, None)


<NormalLabel@Label>:
    font_size: '16sp'
    font_name: 'Dependencias\Minecraft.ttf'
    text_size: self.size



<HammingEncoder>:
    CustomLabel:
        font_size: '30sp'
        text: 'HAMMING ENCODER +'
        pos: 35,550 
    
    NormalLabel:
        text: 'Escoga la paridad:'
        size: 100, 100
        pos: 60,500

    Spinner:
        id: parity_spinner
        font_name: 'Dependencias\Minecraft.ttf'
        text: 'Paridad'
        values: ['par', 'impar']
        size_hint: (None, None)  # desactiva size_hint para establecer el tamaño en píxeles
        size: 150, 60  # establece el tamaño en píxeles
        pos: 60,430
    
    NormalLabel:
        text: 'Ingrese numero binario de 11 bits:'
        size: 100, 100
        pos: 60,390
                
    TextInput:
        id: binary_input
        on_text_validate: app.validar_entrada_binaria(self)
        on_text: app.validar_entrada_binaria(self)
        size_hint: (None, None)  # desactiva size_hint para establecer el tamaño en píxeles
        size: 120, 32  # establece el tamaño en píxeles
        pos: 60, 345

    Button:
        text: 'CALCULAR'
        font_name: 'Dependencias\Minecraft.ttf'
        size_hint: (None, None)  
        size: 120, 32  
        pos: 60,300
        on_press: app.calcular(parity_spinner.text, binary_input.text)

    CustomLabel:
        text: 'Resultado (HEX):'
        pos: 210, 350
        font_size: '20sp'
    
    CustomLabel:
        id: resultado
        font_size: '20sp'
        color: 1, 0, 0, 1
        pos: 210, 305
    
    BoxLayout:    
        spacing: 10
        padding: 15
        orientation: 'vertical'
        size_hint: (None, None)
        size: 280,230  
        pos: 60,50

        canvas.before:
            Color:
                rgba: 0.8, 0.8, 0.8, 1.0 # Establecer el color del borde a rojo (RGBA: 100% rojo, 0% verde, 0% azul, 100% opacidad)
            Line:
                width: 2  # Establecer el ancho del borde a 2 píxeles
                rectangle: self.x, self.y, self.width, self.height  # Dibujar el borde alrededor del BoxLayout
        
        CustomLabel:
            text: 'Acciones:'
            font_size: '20sp'
            # size_hint_y: None
            halign: 'center'
            height: 5
        
        Button:
            text: 'Grafico digital NRZL'
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint_y: None
            height: 50
            on_press: app.senalNRZL(parity_spinner.text, binary_input.text)

        Button:
            text: 'Tabla de paridad'
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint_y: None
            height: 50
            on_press: app.generarTablaParidad(binary_input.text)
        
        Button:
            text: 'Comprobacion de paridad'
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint_y: None
            height: 50
    
    NormalLabel:
        text: '     [15,11]'
        pos: 460,500
        canvas.before:
            Color:
                rgba: 0.4, 0.4, 0.4, 1  
            Rectangle:
                pos: self.pos
                size: 95,25
    
    CustomLabel:
        text: 'Tabla #1. Calculo de los bits de paridad en el codigo Hamming:'
        pos: 470, 535
        font_size: '15sp'

    Video:
        source: 'Dependencias\germ.gif'
        state: 'play'
        size_hint: (None, None)
        size: (100, 100)
        pos: 250,435
    

    BoxLayout:
        padding: 3
        spacing: 3
        size_hint: (None, None)
        size:105,155
        pos: 460, 340
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba:0.4, 0.4, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size

        NormalLabel:
            color: 0.8, 0.8, 0.8, 1
            halign: 'center'
            text: 'Bits:'

        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P1:'
        
        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P2:'
        
        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P3:'

        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P4:'
        
        NormalLabel:
            color: 0.8, 0.8, 0.8, 1
            halign: 'center'
            text: 'Resultado:'
    
#TABLA HAMMING (15,11)
    BoxLayout:
        id: header_paridad
        orientation: 'horizontal'
        padding: 3
        spacing: 5
        size_hint: (None, None)
        size:377,25        
        pos: 563, 500
        canvas.before:
            Color:
                rgba:0.4, 0.4, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size


    GridLayout:
        id: tabla_paridad
        size_hint: (None, None)
        size:380,155
        pos: 560, 340
        rows: 6
        cols: 15
        spacing: 5
        padding: 5

        canvas.before:
            Color:
                rgba: 0.4, 0.4, 0.4, 1 
            Rectangle:
                pos: self.pos
                size: self.size

##############################################################
       
     #BOXLAYOUT PARA HEADERS DE ERRORES     
    BoxLayout:
        id: header_paridad2
        orientation: 'horizontal'
        padding: 3
        spacing: 5
        size_hint: (None, None)
        size:530,25        
        pos: 463, 250
        canvas.before:
            Color:
                rgba:0.4, 0.4, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size

     
     #BOXLAYOUT PARA ERRORES           
    BoxLayout:
        padding: 6
        spacing: 3
        size_hint: (None, None)
        size:105,155
        pos: 360, 90
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba:0.4, 0.4, 0.4, 1
            Rectangle:
                pos: self.pos
                size: self.size

        NormalLabel:
            color: 0.8, 0.8, 0.8, 1
            halign: 'center'
            text: 'Bits:'

        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P1:'
        
        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P2:'
        
        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P3:'

        NormalLabel:
            color: 0, 0, 0, 1
            halign: 'center'
            text: 'P4:'
    
    GridLayout:
        id: tabla_errores
        size_hint: (None, None)
        size:380,155
        pos: 460, 90
        rows: 5
        cols: 15
        spacing: 5
        padding: 5

        canvas.before:
            Color:
                rgba: 0.4, 0.4, 0.4, 1 
            Rectangle:
                pos: self.pos
                size: self.size

    Button:
        text: 'Generar error'
        color: 1, 1, 1, 1
        background_color: 1, 0, 0, 1
        font_name: 'Dependencias\Minecraft.ttf'
        size_hint: (None, None)  
        size: 120, 32  
        pos: 460,290
        on_press: app.generarErrorPopup(binary_input.text)
    
    
        
<GenerarErrorPopup>:
    id: error_popup
    title: 'Genera el error en el codigo'
    title_font: 'Dependencias\Minecraft.ttf'
    size_hint: None, None
    size: 230, 320
    auto_dismiss: False

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        
        CustomLabel:
            text: 'Posicion del bit de error:'
            font_size: '15sp'
            
        Spinner:
            id: bit_posicion
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint: (None,None)
            size: 150,50
            text: 'Posicion'
            values: ['1', '2','3','4','5','6','7','8','9','10','11','12','13','14','15']
        
        CustomLabel:
            text: 'Eliga el bit de error:'
            font_size: '15sp'
            
        Spinner:
            id: bin_bit
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint: (None,None)
            size: 150,50
            text: 'Error bit'
            values: ['1', '0']

        Button:
            text: 'Detectar error'
            background_color: 0, 0, 0, 1
            font_name: 'Dependencias\Minecraft.ttf'
            size_hint: (None,None)
            size: 150,50
            on_press: root.dismiss();app.generarError(bit_posicion.text,bin_bit.text,app.root.ids.binary_input.text)    

           
<TablaConversionPopup>:
    id: popupConversion
    title: 'Tabla de conversiones'
    title_font: 'Dependencias\Minecraft.ttf'
    size_hint: None, None
    size: 900, 310
    auto_dismiss: False

    GridLayout:
        id:tabla_conversiones
        cols:3
        rows:3
        spacing: 5
        padding: 20
        size_hint: None, None
        size: 870, 220
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        canvas.before:
            Color:
                rgba: 0.4, 0.4, 0.4, 1 
            Rectangle:
                pos: self.pos
                size: self.size


        
     
 
        

    
